[buildout]
extensions +=
    buildout.dumppickedversions

production-parts =
    instance1
    instance2
    instance3
    instance4

dump-picked-versions-file = versions-latest.cfg
allow-picked-versions = false

sources = sources
auto-checkout +=
    collective.feedmixer
    collective.dynatree

[deployment]
recipe = gocept.recipe.deploymentsandbox
root = ${buildout:directory}
name = gfb

[settings]
http-address = 8080
zeo-address = localhost:8100
varnish-address = localhost:8008
frontend-address = gfb00.fe.rzob.gocept.net:80
primarydomain = gfb.gocept.com
memcached-address = localhost:11211

[zeo]
deployment = deployment

[instance1]
<= instance-settings
http-address = 8080
zserver-threads = 1
zeo-client-cache-size = 200MB
zodb-cache-size = 20000

[instance2]
<= instance-settings
http-address = 8081
zserver-threads = 1
zeo-client-cache-size = 200MB
zodb-cache-size = 20000

[instance3]
<= instance-settings
http-address = 8082
zserver-threads = 1
zeo-client-cache-size = 200MB
zodb-cache-size = 20000

[instance4]
<= instance-settings
http-address = 8083
zserver-threads = 1
zeo-client-cache-size = 200MB
zodb-cache-size = 20000

[sources]
collective.feedmixer = svn https://svn.plone.org/svn/collective/collective.portlet.feedmixer/trunk/
collective.dynatree = git git://github.com/do3cc/collective.dynatree.git branch=new_backend

[omelette]
recipe = collective.recipe.omelette
unzip = true
eggs = ${instance:eggs}
products = ${instance:products}
ignores =
    elementtree

[zopepy]
recipe = zc.recipe.egg
eggs = ${instance:eggs}
interpreter = zopepy
scripts = zopepy
