[buildout]
allow-picked-versions = false
versions = versions

parts = eggs smartprint smartprint-cron smartprint-logrotate

[versions]
BeautifulSoup = 3.0.8.1
Chameleon = 1.0
Paste = 1.7.2
PasteDeploy = 1.3.3
PasteScript = 1.7.3
WebOb = 0.9.6.1
ZConfig = 2.8.0
collective.recipe.template = 1.8
easy = install.pth
elementtree = 1.2.7_20070827_preview
martian = 0.12
pip = 0.6.1
repoze.bfg = 1.1
repoze.bfg.xmlrpc = 0.3
repoze.lru = 0.3
repoze.zcml = 0.4
setuptools = 0.6c11
sourcecodegen = 0.6.11
transaction = 1.0.0
uuid = 1.30
z3c.recipe.usercrontab = 1.0
zc.buildout = 1.4.3
zc.recipe.egg = 1.2.2
zc.zdaemonrecipe = 0.2
zdaemon = 2.0.4
zope.component = 3.6.0
zope.component = 3.8.0
zope.configuration = 3.6.0
zope.deprecation = 3.4.0
zope.event = 3.4.1
zope.exceptions = 3.5.2
zope.i18nmessageid = 3.5.0
zope.interface = 3.5.1
zope.location = 3.9.0
zope.proxy = 3.5.0
zope.schema = 3.5.4
zope.security = 3.7.2
zope.sendmail = 3.6.1
zopyx.convert2 = 2.1.0
zopyx.smartprintng.server = 0.6.3

[eggs]
recipe = zc.recipe.egg
eggs = zopyx.convert2
       zopyx.smartprintng.server
       repoze.bfg.xmlrpc
       PasteScript
       PasteDeploy

[pasterconfig]
recipe = collective.recipe.template
input = ${buildout:directory}/../osha/profiles/base/templates/smartprintng.ini
output = ${buildout:directory}/smartprintng.ini

[smartprint]
recipe = zc.zdaemonrecipe
program = ${buildout:bin-directory}/paster serve ${pasterconfig:output}
zdaemon.conf =
    <environment>
        PATH /usr/local/bin:/usr/bin:/bin:/opt/bin:/home/osha/smartprintng/prince/bin
    </environment>

[smartprint-cron]
recipe = z3c.recipe.usercrontab
times = @reboot
command = ${buildout:bin-directory}/smartprint start |& logger -t smartprint

[smartprint-logrotate]
recipe = collective.recipe.template
input = ${buildout:directory}/../osha/profiles/base/templates/smartprintng.logrotate
output = ${buildout:directory}/../osha/logrotate.d/smartprintng
